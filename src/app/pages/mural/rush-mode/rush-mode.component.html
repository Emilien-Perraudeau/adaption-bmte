<div class="component-container">
  <div class="header-container">
<app-header></app-header>
  </div>

<div class="main-container">
  <div *ngIf="!isTabletMode">
    <div class="truc-container"><div class="setting-container"><app-settings></app-settings></div>
      <div class="cooks-container"><h2><b>Cuisiniers disponibles : </b>{{availableCooks}}</h2></div></div>
    <div class="timeline-container"><app-timeline [timeline]="timeline"></app-timeline></div>
    <div class="current-dishes-container" *ngIf="groupedDishes.size > 0; else isNormal">
      <div class="category-container" *ngFor="let category of visibleCategories">
        <h2>{{ category }}</h2>
        <div class="dishes-in-category">
          <div *ngFor="let dish of groupedDishesForView[category]">
            <app-dish
              [name]="dish.name"
              [image]="dish.image"
              [quantity]="dish.quantity"
              [category]="dish.category"
              [customerSpecification]="dish.customerSpecification"
              [isExpanded]="true"
              [color]="dish.color"
              [tableId]="dish.tableId"
            ></app-dish>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div *ngIf="isTabletMode">
    <div class="truc-container"><div class="setting-container"><app-settings></app-settings></div>
      <div class="cooks-container"><h2><b>Cuisiniers disponibles : </b>{{availableCooks}}</h2></div></div>
    <div class="timeline-container"><app-timeline [timeline]="timeline"></app-timeline></div>
    <div class="current-dishes-container" *ngIf="groupedDishes.size > 0; else isNormal">
      <div class="category-container">
        <h2>{{ this.position_category }}</h2>
        <div class="dishes-in-category">
          <div *ngFor="let dish of groupedDishesForView[this.position_category]">
            <app-dish
              [name]="dish.name"
              [image]="dish.image"
              [quantity]="dish.quantity"
              [category]="dish.category"
              [customerSpecification]="dish.customerSpecification"
              [isExpanded]="true"
              [color]="dish.color"
              [tableId]="dish.tableId"
            ></app-dish>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="hiddenCategories.length>0" class="footer">
    <div *ngFor="let category of hiddenCategories">
      <h3>{{ category }}</h3>
      <div *ngFor="let dishChunk of upcomingDishesForView[category]">
        <div class="upcoming-dishes-category">
          <div *ngFor="let dish of dishChunk">
            <app-dish
              [name]="dish.name"
              [image]="dish.image"
              [quantity]="dish.quantity"
              [category]="dish.category"
              [state]="DishState.NotAssigned"
              [isExpanded]="false"
            ></app-dish>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<ng-template #isNormal>
  <app-normal-mode></app-normal-mode>
</ng-template>
</div>
