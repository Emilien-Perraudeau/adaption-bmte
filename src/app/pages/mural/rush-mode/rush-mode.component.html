<app-header></app-header>
<div class="timeline-container"><app-timeline [timeline]="timeline"></app-timeline></div>

<div class="main-container">
  <h2>{{maxCategoriesToShow}}</h2>
  <div class="current-dishes-container" *ngIf="groupedDishes.size > 0; else isNormal">
    <div class="category-container" *ngFor="let category of visibleCategories">
      <h2>{{ category }}</h2>
      <div class="dishes-in-category">
        <div *ngFor="let dish of groupedDishesForView[category]">
          <app-dish
            [name]="dish.name"
            [image]="dish.image"
            [quantity]="dish.quantity"
            [category]="dish.category"
            [customerSpecification]="dish.customerSpecification"
            [isExpanded]="true"
            [color]="dish.color"
            [tableId]="dish.tableId"
          ></app-dish>
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <div *ngFor="let category of hiddenCategories">
      <h3>{{ category }}</h3>
      <div *ngFor="let dishChunk of upcomingDishesForView[category]">
        <div class="upcoming-dishes-category">
          <div *ngFor="let dish of dishChunk">
            <app-dish
              [name]="dish.name"
              [image]="dish.image"
              [quantity]="dish.quantity"
              [category]="dish.category"
              [state]="DishState.NotAssigned"
              [isExpanded]="false"
            ></app-dish>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<ng-template #isNormal>
  <app-normal-mode></app-normal-mode>
</ng-template>
